# 第十三章 排除，解决PostCSS的相关问题

## 解决一些常见的问题

我们在学习PostCSS的时候，会碰到各种问题。探索并解决比较常见的问题，并整理一些常见技巧，以方便使用PostCSS  

## 探索一些常见的问题

本书都是使用gulp作为任务管理器。当然，对于使用grunt或broccoli等构建工具，也可能碰到如下类似问题  

### 与操作系统不兼容

有些插件可能出现不兼容的问题。一般是警告消息。比如fsevents只在Mac OS X系统支持，Windows或Linux环境会有兼容问题。  

### “任务名称”在gulp文件中找不到

如果gulp定义的任务执行顺序中，有一些任务没有在gulp中定义，就会出现这个错误。  
可以创建这个人物的实现，或者删除这个任务的执行调用，就可以消除这个错误  

### 找不到<name of plugin>模块

有些插件的名称会有自己的默认调用名称。建议在使用这些插件的时候，多阅读一下该插件的使用文档  

### <name of task>未定义引用的错误

引起这个错误的两个可能原因：  

- 任务本身引入了插件，但忘了在文件顶部声明中加入一个引用  
- 在任务和相关声明中都引入了插件，但是名称不一致，或不正确  

### 请提供PostCSS处理器数组对象

如果在某个任务中调用postcss实例时，没有传入任何插件的实例(.pipe(postcss()))，将会触发这个错误  
postcss([plugin()])至少传入一个插件的实例  

### 条目未出现在package.json文件中

不建议手动更改package.json的配置。如果在配置插件的列表最后多出一个逗号“，”，会导致这个错误出现  

### 编译的结果不如预期

如果发现代码编译后的结果，和预期结果不一致，请检查gulp任务的调用顺序是否需要调整  

## 寻求别人的帮助

- 查看[postcss文档](https://github.com/postcss/postcss/tree/master/docs)  
- Google搜索是否有相关解决方案  
- 还有下面的一些方式可以考虑  

### 在Stack Overflow记录问题

如果上面的方式，依然没有解决问题。可以考虑上[Stack Overflow](http://stackoverflow.com/questions/tagged/postcss)进行提问，寻求业界同行或大佬的帮助。在提问时，最好提供问题出现时，使用的系统环境，以及奥错的截图或细节

### 找到关于PostCSS的Bug

可以记录一个开发需求，或修改代码的建议，[issue地址](https://github.com/postcss/postcss/issue)  

- 如果是插件的问题，请到插件的网站下面提出自己的建议  
- 检查是否是插件间的兼容性问题，或执行顺序不当引起的  
- 是否是因为开发环境与插件作者的不一致导致的  
- 在任务管理器中，列出导致问题的插件，可以缩小范围，定位问题，方便检查排错  
- PostCSS使用MIT license，意味着我们可以制作自己喜欢的软件，只要保留这个库的版权即可  
- CodePen支持使用PostCSS，但支持的插件有限  
- 插件作者水平不一(这是开源软件的通病)，有可能插件的支持不太号，可以先通过stack overflow记录，然后确定了问题后，进一步开发，并提交到插件分支  
